"use strict";(self.webpackChunkdemoProject=self.webpackChunkdemoProject||[]).push([[632],{6632:(tt,v,d)=>{d.r(v),d.d(v,{UserModule:()=>V});var c=d(6814),m=d(5286),Z=d(7398),h=d(5177),s=d(7004),C=d(6187),t=d(9468),g=d(3596),_=d(2425);let y=(()=>{class r{constructor(e,n,i,o){this.data=e,this.productService=n,this.toastr=i,this.route=o,this.quantity=this.data.item.quantity}dec(){this.quantity--}inc(){this.quantity++}updateCart(){confirm("Are you sure update quantity this product in your cart?")&&this.productService.deleteProductFromCartById(this.data.item.cartId).subscribe(n=>{if(n.result){const i=new C.o;i.custId=this.data.item.custId,i.productId=this.data.item.productId,i.quantity=this.quantity,this.productService.addToCart(i).subscribe(o=>{o.result&&(this.toastr.success("Quantity Updated","Successfully"),this.route.navigate(["/user/cart",this.data.item.custId]).then(()=>window.location.reload()))})}else alert(n.message)})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(s.WI),t.Y36(g.M),t.Y36(_._W),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart-edit-dialog"]],decls:26,vars:7,consts:[["mat-dialog-title",""],[1,"rounded","position-relative","fruite-item"],[1,"fruite-img",2,"cursor","pointer"],["alt","",1,"img-fluid","w-100","rounded-top",2,"height","220px",3,"src"],[1,"p-4","border","border-secondary","border-top-0","rounded-bottom"],[1,"productName"],[1,"product-quantity"],[1,"input-group","quantity",2,"width","100px"],[1,"input-group-btn"],["type","button",1,"btn","btn-sm","btn-minus","rounded-circle","bg-light","border",3,"disabled","click"],[1,"fa","fa-minus"],[1,"form-control","form-control-sm","text-center","border-0"],[1,"btn","btn-sm","btn-plus","rounded-circle","bg-light","border",3,"click"],[1,"fa","fa-plus"],[1,"d-flex","justify-content-between","align-items-center","flex-lg-wrap","mt-3"],[1,"text-dark","fs-5","fw-bold","mb-0"],[1,"btn","border","border-secondary","rounded-pill","px-3","text-success",3,"click"],[1,"fa","fa-shopping-bag","me-2","text-success"]],template:function(n,i){1&n&&(t.TgZ(0,"h2",0),t._uU(1,"Edit Quantity"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"div",2),t._UZ(5,"img",3),t.qZA(),t.TgZ(6,"div",4)(7,"h4",5),t._uU(8),t.qZA(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"button",9),t.NdJ("click",function(){return i.dec()}),t._UZ(13,"i",10),t.qZA()(),t.TgZ(14,"div",11),t._uU(15),t.qZA(),t.TgZ(16,"div",8)(17,"button",12),t.NdJ("click",function(){return i.inc()}),t._UZ(18,"i",13),t.qZA()()()(),t.TgZ(19,"div",14)(20,"p",15),t._uU(21),t.ALo(22,"currency"),t.qZA(),t.TgZ(23,"a",16),t.NdJ("click",function(){return i.updateCart()}),t._UZ(24,"i",17),t._uU(25," Update Quantity"),t.qZA()()()()()),2&n&&(t.xp6(5),t.Q6J("src",i.data.item.productImageUrl,t.LSH),t.xp6(3),t.Oqu(i.data.item.productName),t.xp6(4),t.Q6J("disabled",1===i.quantity),t.xp6(3),t.Oqu(i.quantity),t.xp6(6),t.Oqu(t.lcZ(22,5,i.data.item.productPrice)))},dependencies:[s.uh,s.xY,c.H9],styles:[".productName[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-weight:700;font-size:20px}.product-quantity[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}return r})();var f=d(9962);function x(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"th",27)(2,"div",28),t._UZ(3,"img",29),t.qZA()(),t.TgZ(4,"td")(5,"p",30),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"p",30),t._uU(9),t.ALo(10,"currency"),t.qZA()(),t.TgZ(11,"td")(12,"p",31),t._uU(13),t.qZA()(),t.TgZ(14,"td")(15,"p",30),t._uU(16),t.ALo(17,"currency"),t.qZA()(),t.TgZ(18,"td")(19,"button",32),t.NdJ("click",function(){const o=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.deleteCartItem(o.cartId))}),t._UZ(20,"i",33),t.qZA(),t.TgZ(21,"button",32),t.NdJ("click",function(){const o=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.openEditDialog(o))}),t._UZ(22,"i",34),t.qZA()()()}if(2&r){const e=a.$implicit;t.xp6(3),t.Q6J("src",e.productImageUrl,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(3),t.Oqu(t.lcZ(10,5,e.productPrice)),t.xp6(4),t.Oqu(e.quantity),t.xp6(3),t.Oqu(t.lcZ(17,7,e.quantity*e.productPrice))}}function A(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",10)(2,"table",11)(3,"thead")(4,"tr")(5,"th",12),t._uU(6,"Products"),t.qZA(),t.TgZ(7,"th",12),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th",12),t._uU(10,"Price"),t.qZA(),t.TgZ(11,"th",12),t._uU(12,"Quantity"),t.qZA(),t.TgZ(13,"th",12),t._uU(14,"Total"),t.qZA(),t.TgZ(15,"th",12),t._uU(16,"Handle"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,x,23,9,"tr",13),t.ALo(19,"async"),t.qZA()()(),t.TgZ(20,"div",14),t._UZ(21,"div",15),t.TgZ(22,"div",16)(23,"div",17)(24,"div",18)(25,"h1",19),t._uU(26,"Cart "),t.TgZ(27,"span",20),t._uU(28,"Total"),t.qZA()(),t.TgZ(29,"div",21)(30,"h5",22),t._uU(31,"Total:"),t.qZA(),t.TgZ(32,"p",23),t._uU(33),t.ALo(34,"currency"),t.qZA()(),t.TgZ(35,"div",24)(36,"h5",22),t._uU(37,"Number of items"),t.qZA(),t.TgZ(38,"div",25)(39,"p",23),t._uU(40),t.qZA()()()(),t.TgZ(41,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.navigateToCheckout())}),t._uU(42,"Proceed Checkout"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",t.lcZ(19,3,e.cartItem$)),t.xp6(15),t.Oqu(t.lcZ(34,5,e.calculateTotal())),t.xp6(7),t.Oqu(e.getTotalItems())}}function b(r,a){1&r&&(t.TgZ(0,"div",35),t._UZ(1,"div",36),t.qZA())}let q=(()=>{class r{constructor(e,n,i,o,u){this.productService=e,this.loginService=n,this.toastr=i,this.router=o,this.matDialog=u,this.cart=[],this.userId=this.loginService.getUserId()}ngOnInit(){this.getCartItem(),this.productService.cartUpdated$.subscribe(e=>{this.getCartItem()})}getCartItem(){this.cartItem$=this.productService.getCartByCustId(this.userId).pipe((0,Z.U)(e=>e.data),(0,h.g)(300)),this.cartItem$?.subscribe(e=>{this.cart=e})}deleteCartItem(e){confirm("Are you sure delete this product from your cart?")&&this.productService.deleteProductFromCartById(e).subscribe(i=>{i.result?(this.productService.cartUpdated$.next(!0),this.getCartItem(),this.toastr.success("Delete successfully","Product deleted")):alert(i.message)})}calculateTotal(){let e=0;for(let n of this.cart)e+=n.quantity*n.productPrice;return e}getTotalItems(){let e=0;for(let n of this.cart)e+=n.quantity;return e}navigateToCheckout(){const e=this.loginService.getUserId();if(e)return this.router.navigate(["user/check-out",e]);this.toastr.warning("You have to log-in to check-out","Have not log-in yet")}increase(e){e.quantity++}decrease(e){e.quantity--}openEditDialog(e){this.matDialog.open(y,{data:{item:e}})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(g.M),t.Y36(f.r),t.Y36(_._W),t.Y36(m.F0),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-customer-cart"]],decls:18,vars:4,consts:[[1,"container-fluid","page-header","py-5"],[1,"text-center","text-white","display-6"],[1,"breadcrumb","justify-content-center","mb-0"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active","text-white"],[1,"container-fluid","py-5"],[1,"container","py-5"],[4,"ngIf","ngIfElse"],["loadingTmpl",""],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","g-4","justify-content-end"],[1,"col-8"],[1,"col-sm-8","col-md-7","col-lg-6","col-xl-4"],[1,"bg-light","rounded"],[1,"p-4"],[1,"display-6","mb-4"],[1,"fw-normal"],[1,"d-flex","justify-content-between","mb-4"],[1,"mb-0","me-4"],[1,"mb-0"],[1,"d-flex","justify-content-between"],[1,""],["type","button",1,"btn","border-secondary","rounded-pill","px-4","py-3","text-primary","text-uppercase","mb-4","ms-4",3,"click"],["scope","row"],[1,"d-flex","align-items-center"],["alt","",1,"img-fluid","me-5","rounded-circle",2,"width","80px","height","80px",3,"src"],[1,"mb-0","mt-4"],[1,"mb-0","mt-4","ms-3"],[1,"btn","btn-md","rounded-circle","bg-light","border","mt-3","m-1",3,"click"],[1,"fa","fa-times","text-danger"],[1,"fa","fa-edit","text-primary"],["id","spinner",1,"show","w-100","vh-100","bg-white","position-fixed","translate-middle","top-50","start-50","d-flex","align-items-center","justify-content-center"],["role","status",1,"spinner-grow","text-primary"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Cart"),t.qZA(),t.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),t._uU(6,"Home"),t.qZA()(),t.TgZ(7,"li",3)(8,"a",4),t._uU(9,"Pages"),t.qZA()(),t.TgZ(10,"li",5),t._uU(11,"Cart"),t.qZA()()(),t.TgZ(12,"div",6)(13,"div",7),t.YNc(14,A,43,7,"div",8),t.ALo(15,"async"),t.qZA()(),t.YNc(16,b,2,0,"ng-template",null,9,t.W1O)),2&n){const o=t.MAs(17);t.xp6(14),t.Q6J("ngIf",t.lcZ(15,2,i.cartItem$))("ngIfElse",o)}},dependencies:[c.sg,c.O5,c.Ov,c.H9]})}return r})();class U{constructor(){this.saleId=0,this.custId=0,this.saleDate=new Date,this.totalInvoiceAmount=0,this.discount=0,this.paymentNaration="",this.deliveryAddress1="",this.deliveryAddress2="",this.deliveryCity="",this.deliveryPinCode="",this.deliveryLandMark="",this.isCanceled=!1}}var p=d(95);function O(r,a){1&r&&(t.TgZ(0,"small",54),t._uU(1,"Address 1 is required"),t.qZA())}function I(r,a){if(1&r&&(t.TgZ(0,"div",52),t.YNc(1,O,2,0,"small",53),t.qZA()),2&r){t.oxw();const e=t.MAs(29);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function M(r,a){1&r&&(t.TgZ(0,"small",54),t._uU(1,"City is required"),t.qZA())}function w(r,a){if(1&r&&(t.TgZ(0,"div",52),t.YNc(1,M,2,0,"small",53),t.qZA()),2&r){t.oxw();const e=t.MAs(43);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function k(r,a){1&r&&(t.TgZ(0,"small",54),t._uU(1,"Postcode/Zip is required"),t.qZA())}function N(r,a){if(1&r&&(t.TgZ(0,"div",52),t.YNc(1,k,2,0,"small",53),t.qZA()),2&r){t.oxw();const e=t.MAs(57);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function J(r,a){1&r&&(t.TgZ(0,"small",54),t._uU(1,"Lanmark is required"),t.qZA())}function Y(r,a){if(1&r&&(t.TgZ(0,"div",52),t.YNc(1,J,2,0,"small",53),t.qZA()),2&r){t.oxw();const e=t.MAs(65);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function S(r,a){if(1&r&&(t.TgZ(0,"tr")(1,"th",35)(2,"div",55),t._UZ(3,"img",56),t.qZA()(),t.TgZ(4,"td",36),t._uU(5),t.qZA(),t.TgZ(6,"td",36),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"td",36),t._uU(10),t.qZA(),t.TgZ(11,"td",36),t._uU(12),t.ALo(13,"currency"),t.qZA()()),2&r){const e=a.$implicit;t.xp6(3),t.Q6J("src",e.productImageUrl,t.LSH),t.xp6(2),t.Oqu(e.productName),t.xp6(2),t.Oqu(t.lcZ(8,5,e.productPrice)),t.xp6(3),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.lcZ(13,7,e.quantity*e.productPrice))}}function j(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"h1",6),t._uU(3,"Billing details"),t.qZA(),t.TgZ(4,"form",7,8),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOrder())}),t.TgZ(6,"div",9)(7,"div",10)(8,"div",11)(9,"div",12)(10,"div",13)(11,"label",14),t._uU(12,"First Name"),t.TgZ(13,"sup"),t._uU(14,"*"),t.qZA()(),t._UZ(15,"input",15),t.qZA()(),t.TgZ(16,"div",12)(17,"div",13)(18,"label",14),t._uU(19,"Last Name"),t.TgZ(20,"sup"),t._uU(21,"*"),t.qZA()(),t._UZ(22,"input",15),t.qZA()()(),t.TgZ(23,"div",16)(24,"label",14),t._uU(25,"Address 1"),t.TgZ(26,"sup"),t._uU(27,"*"),t.qZA()(),t.TgZ(28,"input",17,18),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.deliveryAddress1=i)}),t.qZA(),t.YNc(30,I,2,1,"div",19),t.qZA(),t.TgZ(31,"div",16)(32,"label",14),t._uU(33,"Address 2 "),t.TgZ(34,"sup"),t._uU(35,"*"),t.qZA()(),t.TgZ(36,"input",20),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.deliveryAddress2=i)}),t.qZA()(),t.TgZ(37,"div",16)(38,"label",14),t._uU(39,"Town/City"),t.TgZ(40,"sup"),t._uU(41,"*"),t.qZA()(),t.TgZ(42,"input",21,22),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.deliveryCity=i)}),t.qZA(),t.YNc(44,w,2,1,"div",19),t.qZA(),t.TgZ(45,"div",16)(46,"label",14),t._uU(47,"Country"),t.TgZ(48,"sup"),t._uU(49,"*"),t.qZA()(),t._UZ(50,"input",15),t.qZA(),t.TgZ(51,"div",16)(52,"label",14),t._uU(53,"Postcode/Zip"),t.TgZ(54,"sup"),t._uU(55,"*"),t.qZA()(),t.TgZ(56,"input",23,24),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.deliveryPinCode=i)}),t.qZA(),t.YNc(58,N,2,1,"div",19),t.qZA(),t.TgZ(59,"div",16)(60,"label",14),t._uU(61,"Lanmark"),t.TgZ(62,"sup"),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"input",25,26),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.deliveryLandMark=i)}),t.qZA(),t.YNc(66,Y,2,1,"div",19),t.qZA(),t.TgZ(67,"div",16)(68,"label",14),t._uU(69,"Mobile"),t.TgZ(70,"sup"),t._uU(71,"*"),t.qZA()(),t._UZ(72,"input",27),t.qZA(),t.TgZ(73,"div",16)(74,"label",14),t._uU(75,"Email Address"),t.TgZ(76,"sup"),t._uU(77,"*"),t.qZA()(),t._UZ(78,"input",28),t.qZA(),t.TgZ(79,"div",16),t._UZ(80,"textarea",29),t.qZA()(),t.TgZ(81,"div",30)(82,"div",31)(83,"table",32)(84,"thead")(85,"tr")(86,"th",33),t._uU(87,"Products"),t.qZA(),t.TgZ(88,"th",33),t._uU(89,"Name"),t.qZA(),t.TgZ(90,"th",33),t._uU(91,"Price"),t.qZA(),t.TgZ(92,"th",33),t._uU(93,"Quantity"),t.qZA(),t.TgZ(94,"th",33),t._uU(95,"Total"),t.qZA()()(),t.TgZ(96,"tbody"),t.YNc(97,S,14,9,"tr",34),t.TgZ(98,"tr"),t._UZ(99,"th",35)(100,"td",36)(101,"td",36),t.TgZ(102,"td",36)(103,"p",37),t._uU(104,"Subtotal"),t.qZA()(),t.TgZ(105,"td",36)(106,"div",38)(107,"p",39),t._uU(108),t.ALo(109,"currency"),t.qZA()()()(),t.TgZ(110,"tr"),t._UZ(111,"th",35)(112,"td",36)(113,"td",36),t.TgZ(114,"td",36)(115,"p",40),t._uU(116,"TOTAL"),t.qZA()(),t.TgZ(117,"td",36)(118,"div",38)(119,"p",39),t._uU(120),t.ALo(121,"currency"),t.qZA()()()()()()(),t.TgZ(122,"div",41)(123,"div",42)(124,"div",43)(125,"label",44)(126,"input",45),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.paymentNaration=i)}),t.qZA(),t._uU(127," Direct Bank Transfer "),t.qZA(),t.TgZ(128,"label",44)(129,"input",46),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.paymentNaration=i)}),t.qZA(),t._uU(130," Check Payment "),t.qZA(),t.TgZ(131,"label",44)(132,"input",47),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.paymentNaration=i)}),t.qZA(),t._uU(133," Cash On Delivery "),t.qZA(),t.TgZ(134,"label",44)(135,"input",48),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.placeOrderObj.paymentNaration=i)}),t.qZA(),t._uU(136," Paypal "),t.qZA()()()(),t.TgZ(137,"div",49)(138,"button",50,51),t._uU(140,"Place Order"),t.qZA()()()()()()()}if(2&r){const e=t.MAs(5),n=t.MAs(29),i=t.MAs(43),o=t.MAs(57),u=t.MAs(65),l=t.oxw();t.xp6(28),t.Q6J("ngModel",l.placeOrderObj.deliveryAddress1),t.xp6(2),t.Q6J("ngIf",n.dirty||n.touched),t.xp6(6),t.Q6J("ngModel",l.placeOrderObj.deliveryAddress2),t.xp6(6),t.Q6J("ngModel",l.placeOrderObj.deliveryCity),t.xp6(2),t.Q6J("ngIf",i.dirty||i.touched),t.xp6(12),t.Q6J("ngModel",l.placeOrderObj.deliveryPinCode),t.xp6(2),t.Q6J("ngIf",o.dirty||o.touched),t.xp6(6),t.Q6J("ngModel",l.placeOrderObj.deliveryLandMark),t.xp6(2),t.Q6J("ngIf",u.dirty||u.touched),t.xp6(31),t.Q6J("ngForOf",l.cart),t.xp6(11),t.Oqu(t.lcZ(109,17,l.placeOrderObj.totalInvoiceAmount)),t.xp6(12),t.Oqu(t.lcZ(121,19,l.placeOrderObj.totalInvoiceAmount)),t.xp6(6),t.Q6J("ngModel",l.placeOrderObj.paymentNaration),t.xp6(3),t.Q6J("ngModel",l.placeOrderObj.paymentNaration),t.xp6(3),t.Q6J("ngModel",l.placeOrderObj.paymentNaration),t.xp6(3),t.Q6J("ngModel",l.placeOrderObj.paymentNaration),t.xp6(3),t.Q6J("disabled",0==l.getTotalItems()||e.invalid)}}function L(r,a){1&r&&(t.TgZ(0,"div",57),t._UZ(1,"div",58),t.qZA())}let Q=(()=>{class r{constructor(e,n,i,o){this.productService=e,this.loginService=n,this.toastr=i,this.router=o,this.placeOrderObj=new U,this.userId=this.loginService.getUserId(),this.cart=[]}ngOnInit(){this.getCartItem()}getCartItem(){this.productService.getCartByCustId(this.userId).pipe((0,h.g)(300)).subscribe(e=>{this.cart=e.data,this.calculateTotal()})}calculateTotal(){let e=0;for(let n of this.cart)e+=n.quantity*n.productPrice;return this.placeOrderObj.totalInvoiceAmount=e,e}getTotalItems(){let e=0;for(let n of this.cart)e+=n.quantity;return e}onOrder(){this.userId&&(this.placeOrderObj.custId=this.userId),this.productService.placeOrder(this.placeOrderObj).subscribe(e=>{e.result?(this.toastr.success("Your order has been created","Success"),this.router.navigate(["user/order-list",this.userId])):alert(e.message)})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(g.M),t.Y36(f.r),t.Y36(_._W),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-checkout"]],decls:7,vars:2,consts:[[1,"container-fluid","page-header","py-5"],[1,"text-center","text-white","display-6"],[1,"container-fluid","py-5"],[4,"ngIf","ngIfElse"],["loadingTmpl",""],[1,"container","py-5"],[1,"mb-4"],["action","#",3,"ngSubmit"],["placeOrderForm","ngForm"],[1,"row","g-5"],[1,"col-md-12","col-lg-6","col-xl-7"],[1,"row"],[1,"col-md-12","col-lg-6"],[1,"form-item","w-100"],[1,"form-label","my-3"],["type","text",1,"form-control"],[1,"form-item"],["type","text","name","deliveryAddress1","required","",1,"form-control",3,"ngModel","ngModelChange"],["deliveryAddress1","ngModel"],["class","validation",4,"ngIf"],["type","text","placeholder","","name","deliveryAddress2",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","deliveryCity","required","",1,"form-control",3,"ngModel","ngModelChange"],["deliveryCity","ngModel"],["type","text","name","deliveryPinCode","required","",1,"form-control",3,"ngModel","ngModelChange"],["deliveryPinCode","ngModel"],["type","text","name","deliveryLandMark","required","",1,"form-control",3,"ngModel","ngModelChange"],["deliveryLandMark","ngModel"],["type","tel",1,"form-control"],["type","email",1,"form-control"],["name","text","spellcheck","false","cols","30","rows","11","placeholder","Oreder Notes (Optional)",1,"form-control"],[1,"col-md-12","col-lg-6","col-xl-5"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"py-5"],[1,"mb-0","text-dark","py-3"],[1,"py-3","border-bottom","border-top"],[1,"mb-0","text-dark"],[1,"mb-0","text-dark","text-uppercase","py-3"],[1,"row","g-4","text-center","align-items-center","justify-content-center","border-bottom","py-3"],[1,"col-12"],[1,"form-check","text-start","my-3"],["for","Transfer-1",1,"form-check-label","d-block","m-md-3"],["type","radio","id","Transfer-1","name","paymentNaration","value","Direct Bank Transfer","required","",1,"form-check-input","bg-primary","border-0",3,"ngModel","ngModelChange"],["type","radio","id","Transfer-1","name","paymentNaration","value","Check Payment","required","",1,"form-check-input","bg-primary","border-0",3,"ngModel","ngModelChange"],["type","radio","id","Transfer-1","name","paymentNaration","value","Cash On Delivery","required","",1,"form-check-input","bg-primary","border-0",3,"ngModel","ngModelChange"],["type","radio","id","Transfer-1","name","paymentNaration","value","Paypal","required","",1,"form-check-input","bg-primary","border-0",3,"ngModel","ngModelChange"],[1,"row","g-4","text-center","align-items-center","justify-content-center","pt-4"],["type","submit",1,"btn","border-secondary","py-3","px-4","text-uppercase","w-100","text-primary",3,"disabled"],["placeOrderBtn",""],[1,"validation"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"d-flex","align-items-center","mt-2"],["alt","",1,"img-fluid","rounded-circle",2,"width","90px","height","90px",3,"src"],["id","spinner",1,"show","w-100","vh-100","bg-white","position-fixed","translate-middle","top-50","start-50","d-flex","align-items-center","justify-content-center"],["role","status",1,"spinner-grow","text-primary"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Checkout"),t.qZA()(),t.TgZ(3,"div",2),t.YNc(4,j,141,21,"div",3),t.qZA(),t.YNc(5,L,2,0,"ng-template",null,4,t.W1O)),2&n){const o=t.MAs(6);t.xp6(4),t.Q6J("ngIf",i.cart)("ngIfElse",o)}},dependencies:[c.sg,c.O5,p._Y,p.Fj,p._,p.JJ,p.JL,p.Q7,p.On,p.F,c.H9]})}return r})();var T=d(2296);function D(r,a){if(1&r&&(t.TgZ(0,"tr")(1,"th",8)(2,"div",11),t._UZ(3,"img",12),t.qZA()(),t.TgZ(4,"td")(5,"p",10),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"p",10),t._uU(9),t.ALo(10,"currency"),t.qZA()(),t.TgZ(11,"td")(12,"p",9),t._uU(13),t.qZA()(),t.TgZ(14,"td")(15,"p",10),t._uU(16),t.ALo(17,"currency"),t.qZA()()()),2&r){const e=a.$implicit;t.xp6(3),t.Q6J("src",e.productImageUrl,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(3),t.Oqu(t.lcZ(10,5,e.productPrice)),t.xp6(4),t.Oqu(e.quantity),t.xp6(3),t.Oqu(t.lcZ(17,7,e.quantity*e.productPrice))}}function P(r,a){if(1&r&&(t.TgZ(0,"div")(1,"table",5)(2,"thead")(3,"tr")(4,"th",6),t._uU(5,"Products"),t.qZA(),t.TgZ(6,"th",6),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"th",6),t._uU(9,"Price"),t.qZA(),t.TgZ(10,"th",6),t._uU(11,"Quantity"),t.qZA(),t.TgZ(12,"th",6),t._uU(13,"Total"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,D,18,9,"tr",7),t.TgZ(16,"tr"),t._UZ(17,"th",8)(18,"td")(19,"td"),t.TgZ(20,"td")(21,"p",9),t._uU(22,"Total"),t.qZA()(),t.TgZ(23,"td")(24,"p",10),t._uU(25),t.ALo(26,"currency"),t.qZA()()()()()()),2&r){const e=a.ngIf,n=t.oxw();t.xp6(15),t.Q6J("ngForOf",e),t.xp6(10),t.Oqu(t.lcZ(26,2,n.data.totalInvoiceAmount))}}function F(r,a){1&r&&(t.TgZ(0,"div",13),t._UZ(1,"div",14),t.qZA())}let H=(()=>{class r{constructor(e,n){this.data=e,this.productService=n}ngOnInit(){this.saleDetail()}saleDetail(){this.saleDetail$=this.productService.openSaleBySaleId(this.data.saleId).pipe((0,Z.U)(e=>e.data))}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(s.WI),t.Y36(g.M))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-detail"]],decls:10,vars:4,consts:[["mat-dialog-title",""],[4,"ngIf","ngIfElse"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["loadingTmpl",""],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"mb-0","mt-4","align-content-center"],[1,"mb-0","mt-4"],[1,"d-flex","align-items-center"],["alt","",1,"img-fluid","me-5","rounded-circle",2,"width","80px","height","80px",3,"src"],["id","spinner",1,"show","w-100","vh-100","bg-white","position-fixed","translate-middle","top-50","start-50","d-flex","align-items-center","justify-content-center"],["role","status",1,"spinner-grow","text-primary"]],template:function(n,i){if(1&n&&(t.TgZ(0,"h2",0),t._uU(1,"Order Detail"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t.YNc(3,P,27,4,"div",1),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"mat-dialog-actions",2)(6,"button",3),t._uU(7,"Close"),t.qZA()(),t.YNc(8,F,2,0,"ng-template",null,4,t.W1O)),2&n){const o=t.MAs(9);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,i.saleDetail$))("ngIfElse",o)}},dependencies:[c.sg,c.O5,s.ZT,s.uh,s.xY,s.H8,T.lW,c.Ov,c.H9]})}return r})();function E(r,a){1&r&&(t.TgZ(0,"p",16),t._uU(1,"Canceled"),t.qZA())}function $(r,a){1&r&&(t.TgZ(0,"p",17),t._uU(1,"On Delivery"),t.qZA())}function K(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.onCancel(i.saleId))}),t._uU(1," Cancel order "),t.qZA()}}function G(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"th",10)(2,"p",11),t._uU(3),t.qZA()(),t.TgZ(4,"td")(5,"p",11),t._uU(6),t.ALo(7,"date"),t.qZA()(),t.TgZ(8,"td")(9,"p",11),t._uU(10),t.ALo(11,"currency"),t.qZA()(),t.TgZ(12,"td"),t.YNc(13,E,2,0,"p",12),t.YNc(14,$,2,0,"p",13),t.qZA(),t.TgZ(15,"td"),t.YNc(16,K,2,0,"button",14),t.TgZ(17,"button",15),t.NdJ("click",function(){const o=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.openOrderDetailDialog(o))}),t._uU(18," View "),t.qZA()()()}if(2&r){const e=a.$implicit;t.xp6(3),t.Oqu(e.saleId),t.xp6(3),t.Oqu(t.xi3(7,6,e.saleDate,"medium")),t.xp6(4),t.Oqu(t.lcZ(11,9,e.totalInvoiceAmount)),t.xp6(3),t.Q6J("ngIf",e.isCanceled),t.xp6(1),t.Q6J("ngIf",!e.isCanceled),t.xp6(2),t.Q6J("ngIf",!e.isCanceled)}}function B(r,a){if(1&r&&(t.TgZ(0,"div")(1,"table",7)(2,"thead")(3,"tr")(4,"th",8),t._uU(5,"Order ID"),t.qZA(),t.TgZ(6,"th",8),t._uU(7,"Order Date"),t.qZA(),t.TgZ(8,"th",8),t._uU(9,"Total Invoicement"),t.qZA(),t.TgZ(10,"th",8),t._uU(11,"Status"),t.qZA(),t.TgZ(12,"th",8),t._uU(13,"Handle"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,G,19,11,"tr",9),t.qZA()()()),2&r){const e=a.ngIf;t.xp6(15),t.Q6J("ngForOf",e)}}function W(r,a){1&r&&(t.TgZ(0,"div",19),t._UZ(1,"div",20),t.qZA())}let X=(()=>{class r{constructor(e,n,i,o){this.productSevice=e,this.loginService=n,this.toastr=i,this.matDialog=o,this.userId=0,this.loginService.isUserLogin&&(this.userId=this.loginService.getUserId())}ngOnInit(){this.getAllOrder(),this.productSevice.orderUpdated$.subscribe(e=>this.getAllOrder())}getAllOrder(){this.sale$=this.productSevice.getAllSaleByCustomerId(this.userId).pipe((0,h.g)(300),(0,Z.U)(e=>e.data))}onCancel(e){confirm("Do you want to cancel this order?")&&this.productSevice.cancelOrderBySaleId(e).subscribe(i=>{i.result?(this.productSevice.orderUpdated$.next(!0),this.getAllOrder(),this.toastr.success("Your order is canceled","Cancel Successfully")):alert(i.message)})}openOrderDetailDialog(e){this.matDialog.open(H,{data:{saleId:e.saleId,totalInvoiceAmount:e.totalInvoiceAmount},height:"400px",width:"900px"})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(g.M),t.Y36(f.r),t.Y36(_._W),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-list"]],decls:10,vars:4,consts:[[1,"container-fluid","page-header","py-5"],[1,"text-center","text-white","display-6"],[1,"container-fluid","py-5"],[1,"container","py-5"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["loadingTmpl",""],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"mb-0","mt-4"],["class","mb-0 mt-4 text-danger",4,"ngIf"],["class","mb-0 mt-4 text-primary",4,"ngIf"],["class","btn btn-md bg-light border m-1 text-danger",3,"click",4,"ngIf"],[1,"btn","btn-md","bg-light","border","m-1","text-primary",3,"click"],[1,"mb-0","mt-4","text-danger"],[1,"mb-0","mt-4","text-primary"],[1,"btn","btn-md","bg-light","border","m-1","text-danger",3,"click"],["id","spinner",1,"show","w-100","vh-100","bg-white","position-fixed","translate-middle","top-50","start-50","d-flex","align-items-center","justify-content-center"],["role","status",1,"spinner-grow","text-primary"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Order History"),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4),t.YNc(6,B,16,1,"div",5),t.ALo(7,"async"),t.qZA()()(),t.YNc(8,W,2,0,"ng-template",null,6,t.W1O)),2&n){const o=t.MAs(9);t.xp6(6),t.Q6J("ngIf",t.lcZ(7,2,i.sale$))("ngIfElse",o)}},dependencies:[c.sg,c.O5,c.Ov,c.H9,c.uU]})}return r})();const R=[{path:"",component:d(4762).K,children:[{path:"cart/:id",component:q},{path:"check-out/:id",component:Q},{path:"order-list/:id",component:X}]}];let V=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=t.oAB({type:r});static#r=this.\u0275inj=t.cJS({imports:[c.ez,m.Bz.forChild(R),s.Is,p.u5,T.ot]})}return r})()}}]);